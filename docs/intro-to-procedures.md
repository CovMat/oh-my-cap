# 流程介绍

gCAP 的流程是三个环节：计算格林函数、数据预处理和震源机制反演。

## 格林函数的计算

格林函数表示 t_0 时刻作用在 r_0 处的单位力矢量在 t 时刻 r 处产生的位移矢量。

地震的波形记录在去除了仪器响应之后是震源时间函数和格林函数的卷积。
计算出来的格林函数，和理论的震源时间函数叠加后才能与实际的波形记录相比较。所以正确计算格林函数是关键的一步。

## 数据预处理

数据预处理是要把地震数据经过一些处理，以符合 gCAP 的要求。

gCAP 要求地震波形数据必须满足如下要求：

1. 必须是SAC格式
2. 必须去除仪器响应得到位移或速度记录
3. 单位为 cm 或 cm/s
4. 地震事件的发震时刻、震中位置和震源深度需要写在SAC头段中

## 反演

gCAP 会截取波形中的Pnl波和面波的波形，并通过遍历所有可能的震源参数以得到与实际波形最像的理论地震图。
