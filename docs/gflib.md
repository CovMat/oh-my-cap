# 计算格林函数

## 文件说明

进入 `Glib/hk` 目录，你能看到 `hk` 和 `run.pl` 两个文件。前者是一维地层模型文件，后一个是执行计算的脚本程序。

### 一维地层模型文件 `hk`

文件内容共 4 列，依次代表地层厚度、S 波速度、P/S 波速比和 S 波的 Q 值。

### 执行计算的脚本程序 `run.pl`

这个脚本计算的格林函数相关参数如下：

| 参数             | 值                                  | 
|------------------|-------------------------------------|
| 震源             | 双力偶源和爆炸源                    |
| 模型文件         | hk                                  |
| 数据点数(npts)   | 512                                 |
| 采样间隔(dt)     | 0.2                                 |
| 震中距           | 从 5 公里到 415 公里(每 5 公里一个) |
| 深度             | 从 5 公里到 30 公里(每 5 公里一个)  |

## 计算例子的格林函数

运行脚本 `run.pl` 即可完成例子的计算。

## 程序的输出

待程序计算完成后，你可以看见生成了`junk.p`、`junk.s` 和 6 个文件夹。
`junk.p` 和 `junk.s` 是临时文件，分别记录 P 波和 S 波的到时信息，可以删除。
6个文件夹内是各个深度的格林函数。
其中双力偶源的格林函数文件名是 xxx.grn.[0-8]，爆炸源的是 xxx.grn.[abc]，xxx 是震中距。
格林函数均是 SAC 格式，其头段 t1 是 P 波初动，t2 是 S 波初至。
如果稍后的反演需要使用初动，那么 user1 和 user2 要保存 P 和 S 的离源角(in degrees from down).
